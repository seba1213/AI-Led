# AI-Led

Управление светом по расписанию с помощью web интерфейса на esp8266 (esp01)

## Страница настройки таймера включения\выключения (/timer-config/)

![PROJECT_PHOTO1](https://github.com/seba1213/AI-Led/blob/main/demo_pic_1.jpg)

## Содержание страницы настроек приложения (/settings/)

#### Авторизация
- Логин
- Пароль

#### Подключение к точке доступа
- ssid
- Пароль
- Ip адрес
- Gateway
- Маска подсети
- DNS

#### Сигнал управления
- Сигнал Вкл. (по умолчанию: 0xA0, 0x01, 0x01, 0xA2)
- Сигнал Выкл. (по умолчанию: 0xA0, 0x01, 0x00, 0xA1)

#### Обновления времени

- Сервер (по умолчанию: europe.pool.ntp.org)
- UTC(h) (по умолчанию: 3)
- Обновление(min)

# Как это работает:

При первом запуске (пока не выполнены настройки приложения на странице /settings/)  микроконтроллер загружается в режиме точки доступа, 
название сети и пароль можно указать в <const char* ssid> и <const char* password>, в таком режиме будет доступна только функия включения и выключения так-как нет подключения к сети для получения времени.
После указания и сохранения параметров подключения к точке доступа микроконтроллер перезагрузится в качестве клиента wifi сети (режим точки доступа больше не будет доступен)

# Как скачать и прошить

- Скачать архив с проектом
На главной странице проекта вверху справа зелёная кнопка Clone or download, вот её жми, там будет Download ZIP
- Установить библиотеки в
C:\Program Files (x86)\Arduino\libraries\ (Windows x64)
C:\Program Files\Arduino\libraries\ (Windows x86)
- Подключить esp к компьютеру (для 01 требуется програматор)
- Запустить файл прошивки (который имеет расширение .ino)
- Настроить IDE (COM порт, добавить и выбрать плату esp2866 требуется версия 2.*)
- Нажать загрузить

# Важно
Если проект не собирается (ошибки компиляции) или собирается, но работает неправильно - проверьте версии библиотек. 
Данный проект рассчитан на работу с версииями библиотек поддержки плат ESP версии 2.* (Не проверял но должно работать со всеми)

# Железо

![PROJECT_PHOTO1](https://github.com/seba1213/AI-Led/blob/main/demo_pic_2.jpg)
- Трансформатор питания 5 вольт [https://aliexpress.ru/item/32808072134.html](https://aliexpress.ru/item/32808072134.html)
- Релейный модуль [https://aliexpress.ru/item/32924006901.html](https://aliexpress.ru/item/32924006901.html)

# Вопросы по этому проекту

В: Что делать если ранее настроенной сети больше нет\ не правильно указал настройки   
О: Есть два пути сбросить настройки - перепрошить микроконтроллер заного или набрать в терминале "reset"
